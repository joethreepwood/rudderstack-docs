---
title: "Supported API"
description: Detailed technical documentation on the JavaScript SDK API.
---

The JavaScript SDK lets you send your event data to any destination without implementing a new API every time.

## Identify

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/identify">`identify`</Link> method lets you identify a user and associate them to their actions. It also lets you record any traits about them like their name, email, etc. Once the `identify` call is made, the SDK persists the user information and passes it to the subsequent <Link to="#track">`track`</Link> or <Link to="#page">`page`</Link> calls.

The JavaScript SDK defines the `identify` method as shown:

```javascript
rudderanalytics.identify(userId, [traits], [options], [callback]);
```

The following table describes the above (optional) parameters in detail:

|  Parameter     |Type        |  Description                                                                                |
| :------------- |:---------- |  :------------------------------------------------------------------------------------- |
|  `userId`      | String     |  Defines the user ID in database. When provided, this argument is sent to the destinations as user ID instead of `anonymousId`.                                                                                                  |
|  `traits`      | Dictionary |  Contains the traits or properties associated with a `userId` such as email, address, etc. <Link to="/event-spec/standard-events/identify/#identify-traits">Reference</Link>. |
|  `callback`    | Function   | Called after the successful execution of `identify` method. |
|  `options`     | Dictionary | Provides information such as `integrations`, `anonymousId`, and `originalTimestamp`.  |

The structure of `options` parameter is as shown:

```javascript
{
  integrations: IntegrationOpts,
  anonymousId: string,
  originalTimestamp: ISO 8601 date string,
  <other keys>: <value> // merged with event's contextual information
}
```
The following table describes the above parameters in detail:

| **Parameter**                   | **Type**                                | **Description**  |
| :-------------------------- | :---------------------------------- | :----------------------- |
| `integrations`         | [**IntegrationOpts**](#integrationopts) | Use to send event data only to the <Link to="/sources/sdks/rudderstack-javascript-sdk/filtering/">selective destinations</Link>.   |
| `anonymousId`           | String                              | Overrides the current event's `anonymousId` at the top level. |
| `originalTimestamp`     | ISO 8601 Date string                | Overrides the current event's `originalTimestamp` at the top level. |
| `<other keys>: <value>` | -                                   | Merged with the event's contextual information. |


A sample `identify` call is shown below:

```javascript
rudderanalytics.identify(
  "1hKOmRA4el9Zt1WSfVJIVo4GRlm",
  { email: "alex@example.com" },
  {
    page: {
      path: "/best-seller/1",
      referrer: "https://www.google.com/search?q=estore+bestseller",
      search: "estore bestseller",
      title: "The best sellers offered by EStore",
      url: "https://www.estore.com/best-seller/1"
    }
  },
  () => {
    console.log("Sample identify call");
  }
);
```

In the above example, the JavaScript SDK captures the `userId`, `email` and the <Link to="/event-spec/standard-events/common-fields/#contextual-fields">contextual information</Link>.

<div class="warningBlock">
If you explicitly specify the IP address in the event payload, RudderStack uses that instead of capturing it in the backend. You can use this feature to anonymize your users' IP address.
</div>

### Anonymous ID

The `anonymousId` is a **UUID** (Universally Unique Identifier) generated to uniquely identify a user. RudderStack automatically assigns the `anonymousId` to the anonymous visitors on your website.

#### How RudderStack uses anonymousId

The JavaScript SDK generates a unique `anonymousId`, stores it in the `rl_anonymous_id` cookie in the top-level domain, and attaches to every subsequent event. This helps RudderStack to identify the anonymous users from other sites that are hosted under a sub-domain. Refer to the <Link to="/sources/sdks/rudderstack-javascript-sdk/data-storage-cookies/">Data Storage</Link> for more information on how the JavaScript SDK stores persistent user data in cookies. 

<div class="infoBlock">
If you identify a user with your application's unique identifier like email, database ID, etc., RudderStack stores this ID in the <code class="inline-code">rl_user_id</code> cookie and attaches it to every event.
</div>

There are three options using which you can **override the `anonymousId` generated by the JavaScript SDK**:

* Provide the `anonymousId` in the `options` parameter of the `identify` call.

<div class="infoBlock">
Note that all other events will have the <code class="inline-code">anonymousId</code> persisted from the cookie, except the particular event where you override the <code class="inline-code">options</code> parameter.
</div>

An example is shown below:

```javascript
rudderanalytics.identify(
  "1hKOmRA4el9Zt1WSfVJIVo4GRlm",
  { email: "alex@example.com" },
  {
    anonymousId: "my-anonymous-id"
  },
  () => {
    console.log("identify call");
  }
);
```

* Set the `anonymousId` for all the future events using the `setAnonymousId()` method. An example is shown below:

```javascript
rudderanalytics.setAnonymousId("my-anonymous-id");

// All event payloads will have the anonymousId key set "my-anonymous-id".
rudderanalytics.identify("1hKOmRA4el9Zt1WSfVJIVo4GRlm", { email1: "alex@example.com" }, () => {
  console.log("identify call");
});
```

* Parse the AMP Linker ID and set the `anonymousId` using AMP Analytics, as shown:

```javascript
rudderanalytics.setAnonymousId(
  null,
  "<version>*<checkSum>*<idName1>*<idValue1>*<idName2>*<idValue2>..."
);
```

Here, the second parameter is the AMP Linker ID format in the [**specified structure**](https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/linker-id-receiving.md#format). For the links decorated with the [**RudderStack Linker parameter**](https://www.rudderstack.com/docs/sources/sdks/rudderstack-amp-analytics/#amp-linker), the `<idName1>` value will be `rs_amp_id`.

Calling the above method will parse the Linker ID and set the `anonymousId` as the value of the `rs_amp_id` key.

### Setting a blank user ID

To set a blank user ID, you can pass an empty string or `" "` to `userid`.

<div class="warningBlock">
Do not identify with <code class="inline-code">null</code> as it will not allow you to pass a traits object and will keep the current <code class="inline-code">userId</code>.
</div>

#### Use-case

Suppose an anonymous user is identified with a `userid` and then logs out of their account. You can then `identify("", {isLoggedIn: false})` and the user will continue to be identified by their `anonymousId` for future events.

### Identifying new users

To identify new users in scenarios like new logins, you can take one of the following two approaches:

* **Call the `identify` API with a new `userid`**: RudderStack resets all the cookies related to the user associated with the `userid` and `traits` and updates them with the newly provided values.

<div class="infoBlock">
The <code class="inline-code">anonymousId</code> will remain unchanged in this case. It will be the auto-generated value set by the SDK or the one you have set explicitly using the `<code class="inline-code">setAnonymousId</code> method.
</div>

* **Call the `reset` API followed by the `identify` API**: It generates the same outcome as the above approach.

### Updating user traits

For updating the user traits, you can call `identify` method with the same `userId` multiple times with the new traits. This will append or modify all the traits associated with that user. An example is shown below:

```javascript
rudderanalytics.identify("1hKOmRA4el9Zt1WSfVJIVo4GRlm", { email1: "alex@example.com" }, () => {
  console.log("identify call");
});

rudderanalytics.identify("1hKOmRA4el9Zt1WSfVJIVo4GRlm", { email2: "john@example.com" }, () => {
  console.log("identify call");
});
```

In the above example, both `email1` and `email2` will be sent in the payload for the second `identify` call.

<div class="infoBlock">
Calling <code class="inline-code">reset()</code> will reset the earlier traits, while identifying a <code class="inline-code">userId</code> with the new traits will update it with the new values.
</div>

## Page

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/page">`page`</Link> call lets you record your website's page views with any additional relevant information about the viewed page.

<div class="infoBlock">
Many destinations require the <code class="inline-code">page</code> events to be called at least once every page load.
</div>

The JavaScript SDK defines the `page` method as shown:

```javascript
rudderanalytics.page(category, name, [properties], [options], [callback]);
```

The following table describes the above (optional) parameters in detail:

| **Parameter**    | **Type**   |  **Description**                                                                    |
| :--------------- |:-----------|  :----------------------------------------------------------------------------------|
| `category`       |String      |  Category of the page.                                                       |
| `name`           | String     |  Name of the page.                                                      |
| `properties`     | Dictionary | Properties of the page, auto-captured by the SDK. |
| `options`        | Dictionary |  Provides information such as `integrations`, `anonymousId`, and `originalTimestamp`.     |
| `callback`       | Function   | Called after the successful execution of `page` method.                 |

A sample `page` call is shown below:

```javascript
rudderanalytics.page(
  "Cart",
  "Cart Viewed",
  {
      path: "/best-seller/1",
      referrer: "https://www.google.com/search?q=estore+bestseller",
      search: "estore bestseller",
      title: "The best sellers offered by EStore",
      url: "https://www.estore.com/best-seller/1"
  },
  () => {
    console.log("page call");
  }
);
```

In the above example, the JavaScript SDK captures page category, page name and the <Link to="/event-spec/standard-events/common-fields/#contextual-fields">contextual information</Link>.

## Track

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/track">`track`</Link> call lets you capture user events along with the properties associated with them.

The JavaScript SDK defines the `track` method as shown:

```javascript
rudderanalytics.track(event, [properties], [options], [callback]);
```

The following table describes the above parameters in detail:

| **Parameter**    | **Type**   | **Presence** | **Description**                                               |
| :--------------- |:-----------| :----------- | :-------------------------------------------------------------|
| `event`          | String     | Required     | Captures the name of the tracked event.                       |
| `properties`     | Dictionary | Optional     | Tracks the event properties.                                  |
| `options`        | Dictionary | Optional     | Provides information such as `integrations`, `anonymousId`, and `originalTimestamp`.         |
| `callback`       | Function   | Optional     | Called after the successful execution of the `track` call.|

A sample `track` call is shown below:

```javascript
rudderanalytics.track(
  "Order Completed",
  {
    revenue: 30,
    currency: "USD",
    user_actual_id: 12345
  },
  () => {
    console.log("track call");
  }
);
```

In the above example, the `track` method tracks the event `Order Completed` along with other information like `revenue`, `currency`, and the user ID.

## Alias

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/alias">`alias`</Link> call lets you merge different identities of a known user.

The JavaScript SDK defines the `alias` method as shown:

```javascript
rudderanalytics.alias(to, from, [options], [callback]);
```

The following table describes the above parameters in detail:

| **Parameter**  |**Type** | **Presence** | **Description** |
| :------------- |:--------| :----------- | :---------------|
| `to`        | String     | Required     | New user identifier. |
| `from`      | String     | Optional     | Old user identifier which will be an alias for the `to` parameter. If not provided, the SDK populates this as the currently identified `userId`, or `anonymousId` in case of anonymous users. |
| `options`  | Dictionary  | Optional     | Provides information such as `integrations`, `anonymousId`, and `originalTimestamp`.    |
| `callback` | Function    | Optional     |  Called after the successful execution of the `alias` call. |

A sample `alias` call is shown below:

```javascript
rudderanalytics.alias("new_id", "old_id", () => {
  console.log("alias call");
});
```

## Group

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/group">`group`</Link> call lets you associate a particular identified user with a group, such as a company, organization, or an account.

The JavaScript SDK defines the `group` method as shown:

```javascript
rudderanalytics.group(groupId, [traits], [options], [callback]);
```

The following table describes the above parameters in detail:

| **Parameter**  |**Type** | **Presence** | **Description** |
| :------------- |:--------| :----------- | :-------------- |
| `groupId`  |String | Required     | Group identifier to which the traits are to be modified or added. RudderStack calls the destination APIs to attach the currently identified user to this group.|
| `traits`   | Dictionary | Optional     | Group traits. RudderStack passes these traits to the destination to enhance the group properties.|
| `options`  | Dictionary | Optional     | Provides information such as `integrations`, `anonymousId`, and `originalTimestamp`.    |
| `callback` | Function | Optional     | Called after the successful execution of the `group` call.|

A sample `group` call is shown:

```javascript
rudderanalytics.group("sample_group_id", {
  name: "Apple Inc.",
  location: "USA",
});
```

## Reset

The <Link to="/rudderstack-api/api-specification/rudderstack-spec/reset">`reset`</Link> method resets the ID and traits of both the user and the group.

The JavaScript SDK defines the `reset` method as shown:

```javascript
rudderanalytics.reset();
```

You can also reset the `anonymousId` along with the details mentioned above by passing `true` to the `reset()` method, as shown:

```javascript
rudderanalytics.reset(true);
```

<div class="warningBlock">
<code class="inline-code">reset()</code> method only clears the cookies and local storage set by RudderStack. It does not clear the information stored by the integrated destinations. To completely clear the user session, refer to the destination-specific documentation.
</div>

## Callbacks to standard methods

RudderStack lets you define callbacks to the common methods of the `rudderanalytics` object.

<div class="warningBlock">
This functionality is supported only for the <code class="inline-code">syncPixel</code> method which is called in the SDK when making synchronization calls for the relevant destinations.
</div>

An example is shown below:

```javascript
<script>
rudderanalytics.syncPixelCallback = obj => {
  rudderanalytics.track(
    "sync lotame",
    {
      destination: obj.destination
    },
    {
      integrations: {
        All: false,
        S3: true
      }
    }
  );
};
</script>

<script src="https://cdn.rudderlabs.com/rudder-analytics.min.js"></script>
```

In the above example, RudderStack defines `syncPixelCallback` on the `rudderanalytics` object while loading the SDK. This leads to RudderStack calling this registered callback with the parameter `{destination: <destination_name>}` whenever a sync call is made from the SDK to the relevant integration, for example, Lotame.

You can also add the callback in the `options` parameter as shown below:

```javascript
rudderanalytics.load(<WRITE_KEY>, <DATA_PLANE_URL>, {
  clientSuppliedCallbacks: {
    syncPixelCallback: () => {
      console.log("sync done");
    },
  },
});
```

## Query parameters

RudderStack's Querystring API lets you trigger the `track` and `identify` calls using the query parameters within the URL.


The query parameters are listed in the following table:

| Parameter             | Action                                                                                                                               |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------|
| `ajs_uid`             | Triggers a `rudderanalytics.identify()` call with `userId` having the parameter value.                                               |
| `ajs_aid`             | Triggers a `rudderanalytics.setAnonymousId()` call with `anonymousId` having the parameter value.                                    |
| `ajs_event`           | Triggers a `rudderanalytics.track()` call with `event` name as the parameter value.                                                  |
| `ajs_prop_<property>` | If `ajs_event` is passed as a query string, the value of this parameter populates the `properties` of the corresponding event in the `track` call.                                                                                                                                                  |
| `ajs_trait_<trait>`   | If `ajs_uid` is provided as a query sting, the value of this parameter will populate the `traits` of the `identify` call made.       |

For example, consider the following URL containing the querystring parameters:

```javascript
http://hostname.com/?ajs_uid=12345&ajs_event=test%20event&ajs_aid=abcde&ajs_prop_testProp=prop1&ajs_trait_name=Firstname+Lastname
```

It will trigger the following API calls:

```javascript
rudderanalytics.setAnonymousId("abcde");
rudderanalytics.identify("12345", { name: "Firstname Lastname" });
rudderanalytics.track("test event", { testProp: "prop1" });
```


## Chromecast

[**Google Chromecast**](https://store.google.com/in/product/chromecast?hl=en-GB) is a device that plugs into your TV or monitor with an HDMI port, and can be used to stream content from your phone or computer.

<div class="successBlock">

RudderStack supports integrating the JavaScript SDK with your Cast app. Follow <a href="https://developers.google.com/cast/docs/web_sender">these instructions</a> to build your web sender app. Then, add the JavaScript SDK to it.
</div>

<div class="infoBlock">

  Follow the <a href="https://developers.google.com/cast/docs/developers">Google Cast developer guide</a> for more details.
</div>
